# 貪食蛇遊戲規格書

## 遊戲概述
貪食蛇（Snake）是一款經典的街機風格遊戲，玩家控制一條蛇在網格中移動，吃食物來增長身體和得分，但要避免撞到牆壁或自己的身體。

## 技術規格
- **檔案類型**: HTML5 Canvas 遊戲
- **語言**: HTML5, CSS3, JavaScript (ES6)
- **依賴**: 無（純前端實現）
- **瀏覽器支援**: 所有支援 Canvas 的現代瀏覽器

## 功能特性

### 核心功能
1. **蛇的移動系統**
   - 平滑的網格移動
   - 方向鍵控制（上下左右）
   - 防止反向移動（避免立即死亡）
   - 自動前進機制

2. **食物系統**
   - 隨機生成食物位置
   - 確保食物不會生成在蛇身上
   - 圓形食物視覺效果

3. **成長機制**
   - 吃到食物後蛇身增長
   - 每次得分 +10
   - 速度逐漸加快

4. **碰撞檢測**
   - 牆壁碰撞檢測
   - 自身碰撞檢測
   - 碰撞後遊戲結束

5. **計分系統**
   - 當前得分顯示
   - 最高分記錄（使用 localStorage 持久化）
   - 自動更新最高分

6. **視覺效果**
   - 蛇頭有眼睛（根據方向變化）
   - 蛇頭和身體顏色區分
   - 遊戲結束覆蓋層

### 視覺設計
- 漸層紫色背景（#667eea 到 #764ba2）
- 黑色遊戲畫布
- 綠色蛇（頭部 #4CAF50，身體 #8BC34A）
- 紅色圓形食物（#FF5722）
- 白色眼睛裝飾

## 遊戲規則

### 基本規則
1. 蛇在網格中自動移動
2. 使用方向鍵控制移動方向
3. 吃到紅色食物可以增長和得分
4. 撞到牆壁或自己的身體會死亡
5. 遊戲結束後可以重新開始

### 得分規則
- 每個食物 = 10 分
- 速度會隨著分數增加而加快
- 最高分會自動保存

## 操作說明

### 基本操作
1. **開始遊戲**: 按下任何方向鍵開始
2. **控制方向**: 
   - ⬆️ 上方向鍵 - 向上移動
   - ⬇️ 下方向鍵 - 向下移動
   - ⬅️ 左方向鍵 - 向左移動
   - ➡️ 右方向鍵 - 向右移動
3. **重新開始**: 點擊 "重新開始" 按鈕

### 控制限制
- 不能立即反向移動（例如：向上時不能立即向下）
- 必須先按其他方向才能反向

## 技術實現

### 遊戲狀態管理
```javascript
- snake: 蛇身陣列 [{x, y}, ...]
- dx, dy: 移動方向向量
- foodX, foodY: 食物座標
- score: 當前得分
- highScore: 最高分（localStorage）
- gameRunning: 遊戲運行狀態
- gameSpeed: 遊戲速度（毫秒）
```

### 網格系統
- 畫布大小: 400x400 像素
- 網格大小: 20x20 像素
- 總格子數: 20x20 = 400 格

### 碰撞檢測算法
1. **牆壁碰撞**: 檢查蛇頭是否超出畫布邊界
2. **自身碰撞**: 檢查蛇頭是否與身體任何部分重疊

### 食物生成算法
- 隨機生成座標
- 檢查是否與蛇身重疊
- 如果重疊則重新生成

### 速度控制
- 初始速度: 100ms
- 每次得分後速度 -1ms
- 最低速度限制: 50ms

## 檔案結構
```
snake.html
├── HTML 結構
│   ├── 標題區
│   ├── 得分顯示
│   ├── Canvas 畫布
│   ├── 操作說明
│   └── 重新開始按鈕
├── CSS 樣式
│   ├── 響應式佈局
│   ├── 漸層背景
│   └── 遊戲結束覆蓋層
└── JavaScript 邏輯
    ├── Canvas 繪圖
    ├── 蛇的移動邏輯
    ├── 碰撞檢測
    ├── 食物生成
    └── 計分系統
```

## 資料持久化
- 使用 `localStorage` 儲存最高分
- 鍵名: `snakeHighScore`
- 跨會話保持最高分記錄

## 未來擴展建議
1. 添加多種難度等級
2. 添加障礙物系統
3. 添加特殊食物（加分、減速等）
4. 添加多種蛇的外觀主題
5. 添加音效和背景音樂
6. 添加排行榜系統
7. 添加暫停功能
8. 添加觸控手勢支援（行動裝置）

## 版本資訊
- **版本**: 1.0
- **最後更新**: 2024
- **作者**: AI Generated

## 修改記錄
請參考 `snake_log.txt` 查看詳細修改記錄。

