# 語音轉文字工具規格書

## 工具概述
語音轉文字工具是一個基於 Web Speech API 的語音識別工具，可以將使用者的語音即時轉換為文字，並提供多種文字處理功能。

## 技術規格
- **檔案類型**: HTML5 單頁應用
- **語言**: HTML5, CSS3, JavaScript (ES6)
- **API**: Web Speech API (SpeechRecognition)
- **依賴**: 無（純前端實現）
- **瀏覽器支援**: Chrome, Edge（需支援語音識別 API）

## 功能特性

### 核心功能
1. **語音識別**
   - 持續語音識別
   - 即時顯示識別結果
   - 顯示中間結果
   - 繁體中文支援（zh-TW）

2. **AI 順稿**
   - 自動改善文字格式
   - 調整標點符號位置
   - 移除多餘空格和換行
   - 確保標點符號前後空格正確

3. **語音播放**
   - 文字轉語音功能
   - 使用 Web Speech API (SpeechSynthesis)
   - 支援繁體中文語音
   - 可隨時停止播放

4. **翻譯成英語**
   - 使用 MyMemory Translation API
   - 將繁體中文翻譯成英語
   - 翻譯結果顯示在獨立區域

5. **AI 指令**
   - 將文字格式化為 `claude -p "文字"` 格式
   - 自動複製到剪貼簿
   - 可直接貼到 Cursor 使用

6. **特殊功能**
   - 🦍 大猩猩：顯示大猩猩比中指動畫
   - 😂 一直笑：顯示持續笑臉動畫
   - 😤 罵髒話：顯示不重複髒話，每 10 秒切換

### 視覺設計
- 漸層紫色背景（#667eea 到 #764ba2）
- 白色容器，圓角設計
- 響應式按鈕設計
- 狀態提示訊息
- 動畫效果

## 操作說明

### 基本操作
1. **開始錄音**: 點擊「🎤 開始錄音」按鈕
2. **停止錄音**: 點擊「⏹ 停止錄音」按鈕
3. **清除文字**: 點擊「🗑 清除文字」按鈕
4. **AI 順稿**: 點擊「✏️ AI 順稿」按鈕改善文字
5. **語音播放**: 點擊「🔊 語音播放」按鈕朗讀文字
6. **翻譯成英語**: 點擊「🌐 翻譯成英語」按鈕翻譯文字
7. **AI 指令**: 點擊「🤖 AI 指令」按鈕格式化並複製指令

### 特殊功能操作
- **大猩猩**: 點擊按鈕顯示動畫，可關閉
- **一直笑**: 點擊按鈕顯示持續笑臉動畫，可關閉
- **罵髒話**: 點擊按鈕顯示髒話，每 10 秒切換，可關閉

## 技術實現

### 語音識別
```javascript
- SpeechRecognition API
- continuous: true（持續識別）
- interimResults: true（顯示中間結果）
- lang: 'zh-TW'（繁體中文）
```

### 文字處理
- 正則表達式處理空格和標點符號
- 自動格式化文字
- 標點符號位置調整

### 語音合成
```javascript
- SpeechSynthesis API
- SpeechSynthesisUtterance
- lang: 'zh-TW'
- rate, pitch, volume 控制
```

### 翻譯功能
- MyMemory Translation API
- 免費翻譯服務
- 錯誤處理和備用方案

### 剪貼簿功能
- navigator.clipboard API
- 備用複製方法（document.execCommand）
- 複製成功視覺回饋

## 檔案結構
```
speech-to-text.html
├── HTML 結構
│   ├── 標題區
│   ├── 文字輸入區域
│   ├── 控制按鈕區
│   ├── AI 指令結果區
│   ├── 翻譯結果區
│   └── 狀態提示區
├── CSS 樣式
│   ├── 響應式佈局
│   ├── 按鈕樣式
│   ├── 動畫效果
│   └── 特殊功能樣式
└── JavaScript 邏輯
    ├── 語音識別
    ├── 文字處理
    ├── 語音合成
    ├── 翻譯功能
    ├── 剪貼簿操作
    └── 特殊功能動畫
```

## 瀏覽器相容性
- **Chrome**: ✅ 完全支援
- **Edge**: ✅ 完全支援
- **Safari**: ⚠️ 部分支援
- **Firefox**: ❌ 不支援語音識別

## 注意事項
1. 需要網路連線（語音識別和翻譯需要伺服器）
2. 需要麥克風權限
3. 建議在安靜環境中使用
4. 翻譯功能依賴第三方 API，可能會有使用限制

## 版本資訊
- **版本**: 1.0
- **最後更新**: 2024
- **作者**: AI Generated

## 修改記錄
請參考 `speech-to-text_log.txt` 查看詳細修改記錄。

